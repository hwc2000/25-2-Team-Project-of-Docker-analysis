# Docker 아키텍처 분석

---

## 1. 개요

Docker의 아키텍처를 중심으로 **구성 요소, 시스템 구조, 동작 원리, 주요 기술 스택**을 분석하고, 이를 **다이어그램과 함께 시각적으로 정리**하였습니

---

## 2. 주요 구성 요소 (Components)

- **Docker Client**  
  사용자가 `docker run`, `docker build`, `docker pull` 등의 명령을 입력하는 CLI 인터페이스

- **Docker Daemon (dockerd)**  
  컨테이너, 이미지, 네트워크, 볼륨을 생성·관리하는 핵심 백엔드 프로세스

- **Docker Registry (Docker Hub)**  
  컨테이너 이미지를 저장하고 공유하는 중앙 저장소

- **containerd**  
  컨테이너의 생성, 실행, 삭제 등 생명주기를 관리하는 고수준 런타임

- **runC**  
  Linux 커널의 Namespace, cgroup을 이용해 실제 컨테이너 프로세스를 실행하는 저수준 런타임

---

## 3. Docker 시스템 구조 (System Architecture)

Docker는 **Client–Server 구조**로 동작한다.

- 사용자는 **Docker Client**를 통해 명령을 입력한다.
- Docker Client는 **REST API** 방식으로 **Docker Daemon**에게 요청을 전달한다.
- Docker Daemon은 내부적으로 **containerd → runC → Linux Kernel** 순서로 컨테이너를 실행한다.
- 컨테이너 이미지는 외부 저장소인 **Docker Registry(Docker Hub)** 와 Pull / Push 방식으로 통신한다.

---

## 4. 컨테이너 실행 동작 원리 (Execution Flow)

`docker run ubuntu` 실행 시 동작 흐름은 다음과 같다.

1. 사용자가 Docker Client에서 명령 실행
2. Docker Client → REST API → Docker Daemon 전달
3. 로컬 이미지 존재 여부 확인
4. 이미지가 없을 경우 Docker Registry(Docker Hub)에서 Pull
5. containerd가 컨테이너 생성 및 관리
6. runC가 Namespace, cgroup을 이용해 실제 프로세스 실행
7. Linux Kernel 위에서 컨테이너 실행 완료

---

## 5. 주요 기술 스택 및 표준 (Tech Stack)

| 구분 | 기술 |
|------|------|
| 컨테이너 표준 | OCI |
| 고수준 런타임 | containerd |
| 저수준 런타임 | runC |
| 통신 방식 | REST API |
| 격리 기술 | Linux Namespace, cgroups |
| 이미지 저장소 | Docker Registry (Docker Hub) |

---

## 6. Docker 아키텍처 다이어그램

![Docker Architecture](./images/docker_architecture.png)

---

## 7. 다이어그램 설명

본 다이어그램은 Docker의 표준 실행 구조를 시각적으로 표현한 것이다.

- Docker Client는 REST API를 통해 Docker Daemon과 통신한다.
- Docker Daemon은 containerd와 runC를 이용해 Linux Kernel 위에서 컨테이너를 실행한다.
- Docker Registry(Docker Hub)는 실행 계층에 포함되지 않으며, **이미지를 저장·배포하는 외부 저장소 역할**을 수행한다.
